{"version":3,"sources":["../../../../../src/lib/core/portal/portal-directives.ts"],"names":[],"mappings":"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","file":"portal-directives.js","sourceRoot":"","sourcesContent":["import {\n    NgModule,\n    ModuleWithProviders,\n    ComponentRef,\n    Directive,\n    TemplateRef,\n    ComponentFactoryResolver,\n    ViewContainerRef,\n    OnDestroy,\n    Input,\n} from '@angular/core';\nimport {Portal, TemplatePortal, ComponentPortal, BasePortalHost} from './portal';\n/**\n * Directive version of a `TemplatePortal`. Because the directive *is* a TemplatePortal,\n * the directive instance itself can be attached to a host, enabling declarative use of portals.\n * \n * Usage:\n * <ng-template portal #greeting>\n *   <p> Hello {{name}} </p>\n * </ng-template>\n */\nexport class TemplatePortalDirective extends TemplatePortal {\n/**\n * @param {?} templateRef\n * @param {?} viewContainerRef\n */\nconstructor(templateRef: TemplateRef<any>, viewContainerRef: ViewContainerRef) {\n    super(templateRef, viewContainerRef);\n  }\nstatic decorators: DecoratorInvocation[] = [\n{ type: Directive, args: [{\n  selector: '[cdk-portal], [portal]',\n  exportAs: 'cdkPortal',\n}, ] },\n];\n/**\n * @nocollapse\n */\nstatic ctorParameters: () => ({type: any, decorators?: DecoratorInvocation[]}|null)[] = () => [\n{type: TemplateRef, },\n{type: ViewContainerRef, },\n];\n}\n\nfunction TemplatePortalDirective_tsickle_Closure_declarations() {\n/** @type {?} */\nTemplatePortalDirective.decorators;\n/**\n * @nocollapse\n * @type {?}\n */\nTemplatePortalDirective.ctorParameters;\n}\n\n/**\n * Directive version of a PortalHost. Because the directive *is* a PortalHost, portals can be\n * directly attached to it, enabling declarative use.\n * \n * Usage:\n * <ng-template [cdkPortalHost]=\"greeting\"></ng-template>\n */\nexport class PortalHostDirective extends BasePortalHost implements OnDestroy {\n/**\n * The attached portal.\n */\nprivate _portal: Portal<any>;\n/**\n * @param {?} _componentFactoryResolver\n * @param {?} _viewContainerRef\n */\nconstructor(\nprivate _componentFactoryResolver: ComponentFactoryResolver,\nprivate _viewContainerRef: ViewContainerRef) {\n    super();\n  }\n/**\n * @deprecated\n * @return {?}\n */\nget _deprecatedPortal() { return this.portal; }\n/**\n * @param {?} v\n * @return {?}\n */\nset _deprecatedPortal(v) { this.portal = v; }\n/**\n * Portal associated with the Portal host.\n * @return {?}\n */\nget portal(): Portal<any> {\n    return this._portal;\n  }\n/**\n * @param {?} portal\n * @return {?}\n */\nset portal(portal: Portal<any>) {\n    if (this.hasAttached()) {\n      super.detach();\n    }\n\n    if (portal) {\n      super.attach(portal);\n    }\n\n    this._portal = portal;\n  }\n/**\n * @return {?}\n */\nngOnDestroy() {\n    super.dispose();\n    this._portal = null;\n  }\n/**\n * Attach the given ComponentPortal to this PortalHost using the ComponentFactoryResolver.\n * \n * @template T\n * @param {?} portal Portal to be attached to the portal host.\n * @return {?}\n */\nattachComponentPortal<T>(portal: ComponentPortal<T>): ComponentRef<T> {\n    portal.setAttachedHost(this);\n\n    // If the portal specifies an origin, use that as the logical location of the component\n    // in the application tree. Otherwise use the location of this PortalHost.\n    let /** @type {?} */ viewContainerRef = portal.viewContainerRef != null ?\n        portal.viewContainerRef :\n        this._viewContainerRef;\n\n    let /** @type {?} */ componentFactory =\n        this._componentFactoryResolver.resolveComponentFactory(portal.component);\n    let /** @type {?} */ ref = viewContainerRef.createComponent(\n        componentFactory, viewContainerRef.length,\n        portal.injector || viewContainerRef.parentInjector);\n\n    super.setDisposeFn(() => ref.destroy());\n    this._portal = portal;\n\n    return ref;\n  }\n/**\n * Attach the given TemplatePortal to this PortlHost as an embedded View.\n * @param {?} portal Portal to be attached.\n * @return {?}\n */\nattachTemplatePortal(portal: TemplatePortal): Map<string, any> {\n    portal.setAttachedHost(this);\n\n    this._viewContainerRef.createEmbeddedView(portal.templateRef);\n    super.setDisposeFn(() => this._viewContainerRef.clear());\n\n    this._portal = portal;\n\n    // TODO(jelbourn): return locals from view\n    return new Map<string, any>();\n  }\nstatic decorators: DecoratorInvocation[] = [\n{ type: Directive, args: [{\n  selector: '[cdkPortalHost], [portalHost]',\n  inputs: ['portal: cdkPortalHost']\n}, ] },\n];\n/**\n * @nocollapse\n */\nstatic ctorParameters: () => ({type: any, decorators?: DecoratorInvocation[]}|null)[] = () => [\n{type: ComponentFactoryResolver, },\n{type: ViewContainerRef, },\n];\nstatic propDecorators: {[key: string]: DecoratorInvocation[]} = {\n'_deprecatedPortal': [{ type: Input, args: ['portalHost', ] },],\n};\n}\n\nfunction PortalHostDirective_tsickle_Closure_declarations() {\n/** @type {?} */\nPortalHostDirective.decorators;\n/**\n * @nocollapse\n * @type {?}\n */\nPortalHostDirective.ctorParameters;\n/** @type {?} */\nPortalHostDirective.propDecorators;\n/**\n * The attached portal.\n * @type {?}\n */\nPortalHostDirective.prototype._portal;\n/** @type {?} */\nPortalHostDirective.prototype._componentFactoryResolver;\n/** @type {?} */\nPortalHostDirective.prototype._viewContainerRef;\n}\n\nexport class PortalModule {\n/**\n * @deprecated\n * @return {?}\n */\nstatic forRoot(): ModuleWithProviders {\n    return {\n      ngModule: PortalModule,\n      providers: []\n    };\n  }\nstatic decorators: DecoratorInvocation[] = [\n{ type: NgModule, args: [{\n  exports: [TemplatePortalDirective, PortalHostDirective],\n  declarations: [TemplatePortalDirective, PortalHostDirective],\n}, ] },\n];\n/**\n * @nocollapse\n */\nstatic ctorParameters: () => ({type: any, decorators?: DecoratorInvocation[]}|null)[] = () => [\n];\n}\n\nfunction PortalModule_tsickle_Closure_declarations() {\n/** @type {?} */\nPortalModule.decorators;\n/**\n * @nocollapse\n * @type {?}\n */\nPortalModule.ctorParameters;\n}\n\n\ninterface DecoratorInvocation {\n  type: Function;\n  args?: any[];\n}\n"]}