{"version":3,"sources":["../../../../src/lib/menu/menu-trigger.ts"],"names":[],"mappings":"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","file":"menu-trigger.js","sourceRoot":"","sourcesContent":["import {\n    AfterViewInit,\n    Directive,\n    ElementRef,\n    EventEmitter,\n    Input,\n    OnDestroy,\n    Optional,\n    Output,\n    Renderer,\n    ViewContainerRef,\n} from '@angular/core';\nimport {MdMenuPanel} from './menu-panel';\nimport {MdMenuMissingError} from './menu-errors';\nimport {\n    isFakeMousedownFromScreenReader,\n    Dir,\n    LayoutDirection,\n    Overlay,\n    OverlayState,\n    OverlayRef,\n    TemplatePortal,\n    ConnectedPositionStrategy,\n    HorizontalConnectionPos,\n    VerticalConnectionPos,\n} from '../core';\nimport {Subscription} from 'rxjs/Subscription';\nimport {MenuPositionX, MenuPositionY} from './menu-positions';\n/**\n * This directive is intended to be used in conjunction with an md-menu tag.  It is\n * responsible for toggling the display of the provided menu instance.\n */\nexport class MdMenuTrigger implements AfterViewInit, OnDestroy {\nprivate _portal: TemplatePortal;\nprivate _overlayRef: OverlayRef;\nprivate _menuOpen: boolean = false;\nprivate _backdropSubscription: Subscription;\nprivate _positionSubscription: Subscription;\nprivate _openedByMouse: boolean = false;\n/**\n * @deprecated\n * @return {?}\n */\nget _deprecatedMdMenuTriggerFor(): MdMenuPanel { return this.menu; }\n/**\n * @param {?} v\n * @return {?}\n */\nset _deprecatedMdMenuTriggerFor(v: MdMenuPanel) { this.menu = v; }\n/**\n * @deprecated\n * @return {?}\n */\nget _deprecatedMatMenuTriggerFor(): MdMenuPanel { return this.menu; }\n/**\n * @param {?} v\n * @return {?}\n */\nset _deprecatedMatMenuTriggerFor(v: MdMenuPanel) { this.menu = v; }\n/**\n * @return {?}\n */\nget _matMenuTriggerFor(): MdMenuPanel { return this.menu; }\n/**\n * @param {?} v\n * @return {?}\n */\nset _matMenuTriggerFor(v: MdMenuPanel) { this.menu = v; }\n/**\n * References the menu instance that the trigger is associated with.\n */\nmenu: MdMenuPanel;\n/**\n * Event emitted when the associated menu is opened.\n */\nonMenuOpen = new EventEmitter<void>();\n/**\n * Event emitted when the associated menu is closed.\n */\nonMenuClose = new EventEmitter<void>();\n/**\n * @param {?} _overlay\n * @param {?} _element\n * @param {?} _viewContainerRef\n * @param {?} _renderer\n * @param {?} _dir\n */\nconstructor(private _overlay: Overlay,\nprivate _element: ElementRef,\nprivate _viewContainerRef: ViewContainerRef,\nprivate _renderer: Renderer,\nprivate _dir: Dir) {}\n/**\n * @return {?}\n */\nngAfterViewInit() {\n    this._checkMenu();\n    this.menu.close.subscribe(() => this.closeMenu());\n  }\n/**\n * @return {?}\n */\nngOnDestroy() { this.destroyMenu(); }\n/**\n * Whether the menu is open.\n * @return {?}\n */\nget menuOpen(): boolean { return this._menuOpen; }\n/**\n * Toggles the menu between the open and closed states.\n * @return {?}\n */\ntoggleMenu(): void {\n    return this._menuOpen ? this.closeMenu() : this.openMenu();\n  }\n/**\n * Opens the menu.\n * @return {?}\n */\nopenMenu(): void {\n    if (!this._menuOpen) {\n      this._createOverlay();\n      this._overlayRef.attach(this._portal);\n      this._subscribeToBackdrop();\n      this._initMenu();\n    }\n  }\n/**\n * Closes the menu.\n * @return {?}\n */\ncloseMenu(): void {\n    if (this._overlayRef) {\n      this._overlayRef.detach();\n      this._backdropSubscription.unsubscribe();\n      this._resetMenu();\n    }\n  }\n/**\n * Removes the menu from the DOM.\n * @return {?}\n */\ndestroyMenu(): void {\n    if (this._overlayRef) {\n      this._overlayRef.dispose();\n      this._overlayRef = null;\n\n      this._cleanUpSubscriptions();\n    }\n  }\n/**\n * Focuses the menu trigger.\n * @return {?}\n */\nfocus() {\n    this._renderer.invokeElementMethod(this._element.nativeElement, 'focus');\n  }\n/**\n * The text direction of the containing app.\n * @return {?}\n */\nget dir(): LayoutDirection {\n    return this._dir && this._dir.value === 'rtl' ? 'rtl' : 'ltr';\n  }\n/**\n * This method ensures that the menu closes when the overlay backdrop is clicked.\n * We do not use first() here because doing so would not catch clicks from within\n * the menu, and it would fail to unsubscribe properly. Instead, we unsubscribe\n * explicitly when the menu is closed or destroyed.\n * @return {?}\n */\nprivate _subscribeToBackdrop(): void {\n    this._backdropSubscription = this._overlayRef.backdropClick().subscribe(() => {\n      this.menu._emitCloseEvent();\n    });\n  }\n/**\n * This method sets the menu state to open and focuses the first item if\n * the menu was opened via the keyboard.\n * @return {?}\n */\nprivate _initMenu(): void {\n    this._setIsMenuOpen(true);\n\n    // Should only set focus if opened via the keyboard, so keyboard users can\n    // can easily navigate menu items. According to spec, mouse users should not\n    // see the focus style.\n    if (!this._openedByMouse) {\n      this.menu.focusFirstItem();\n    }\n  }\n/**\n * This method resets the menu when it's closed, most importantly restoring\n * focus to the menu trigger if the menu was opened via the keyboard.\n * @return {?}\n */\nprivate _resetMenu(): void {\n    this._setIsMenuOpen(false);\n\n    // Focus only needs to be reset to the host element if the menu was opened\n    // by the keyboard and manually shifted to the first menu item.\n    if (!this._openedByMouse) {\n      this.focus();\n    }\n    this._openedByMouse = false;\n  }\n/**\n * @param {?} isOpen\n * @return {?}\n */\nprivate _setIsMenuOpen(isOpen: boolean): void {\n    this._menuOpen = isOpen;\n    this._menuOpen ? this.onMenuOpen.emit() : this.onMenuClose.emit();\n  }\n/**\n *  This method checks that a valid instance of MdMenu has been passed into\n *  mdMenuTriggerFor. If not, an exception is thrown.\n * @return {?}\n */\nprivate _checkMenu() {\n    if (!this.menu) {\n      throw new MdMenuMissingError();\n    }\n  }\n/**\n *  This method creates the overlay from the provided menu's template and saves its\n *  OverlayRef so that it can be attached to the DOM when openMenu is called.\n * @return {?}\n */\nprivate _createOverlay(): void {\n    if (!this._overlayRef) {\n      this._portal = new TemplatePortal(this.menu.templateRef, this._viewContainerRef);\n      const /** @type {?} */ config = this._getOverlayConfig();\n      this._subscribeToPositions( /** @type {?} */((config.positionStrategy as ConnectedPositionStrategy)));\n      this._overlayRef = this._overlay.create(config);\n    }\n  }\n/**\n * This method builds the configuration object needed to create the overlay, the OverlayState.\n * @return {?} OverlayState\n */\nprivate _getOverlayConfig(): OverlayState {\n    const /** @type {?} */ overlayState = new OverlayState();\n    overlayState.positionStrategy = this._getPosition()\n                                        .withDirection(this.dir);\n    overlayState.hasBackdrop = true;\n    overlayState.backdropClass = 'cdk-overlay-transparent-backdrop';\n    overlayState.direction = this.dir;\n    return overlayState;\n  }\n/**\n * Listens to changes in the position of the overlay and sets the correct classes\n * on the menu based on the new position. This ensures the animation origin is always\n * correct, even if a fallback position is used for the overlay.\n * @param {?} position\n * @return {?}\n */\nprivate _subscribeToPositions(position: ConnectedPositionStrategy): void {\n    this._positionSubscription = position.onPositionChange.subscribe((change) => {\n      const /** @type {?} */ posX: MenuPositionX = change.connectionPair.originX === 'start' ? 'after' : 'before';\n      let /** @type {?} */ posY: MenuPositionY = change.connectionPair.originY === 'top' ? 'below' : 'above';\n\n      if (!this.menu.overlapTrigger) {\n        posY = posY === 'below' ? 'above' : 'below';\n      }\n\n      this.menu.setPositionClasses(posX, posY);\n    });\n  }\n/**\n * This method builds the position strategy for the overlay, so the menu is properly connected\n * to the trigger.\n * @return {?} ConnectedPositionStrategy\n */\nprivate _getPosition(): ConnectedPositionStrategy  {\n    const [posX, fallbackX]: HorizontalConnectionPos[] =\n      this.menu.positionX === 'before' ? ['end', 'start'] : ['start', 'end'];\n\n    const [overlayY, fallbackOverlayY]: VerticalConnectionPos[] =\n      this.menu.positionY === 'above' ? ['bottom', 'top'] : ['top', 'bottom'];\n\n    let /** @type {?} */ originY = overlayY;\n    let /** @type {?} */ fallbackOriginY = fallbackOverlayY;\n\n    if (!this.menu.overlapTrigger) {\n      originY = overlayY === 'top' ? 'bottom' : 'top';\n      fallbackOriginY = fallbackOverlayY === 'top' ? 'bottom' : 'top';\n    }\n\n    return this._overlay.position()\n      .connectedTo(this._element,\n          {originX: posX, originY: originY}, {overlayX: posX, overlayY: overlayY})\n      .withFallbackPosition(\n          {originX: fallbackX, originY: originY},\n          {overlayX: fallbackX, overlayY: overlayY})\n      .withFallbackPosition(\n          {originX: posX, originY: fallbackOriginY},\n          {overlayX: posX, overlayY: fallbackOverlayY})\n      .withFallbackPosition(\n          {originX: fallbackX, originY: fallbackOriginY},\n          {overlayX: fallbackX, overlayY: fallbackOverlayY});\n  }\n/**\n * @return {?}\n */\nprivate _cleanUpSubscriptions(): void {\n    if (this._backdropSubscription) {\n      this._backdropSubscription.unsubscribe();\n    }\n    if (this._positionSubscription) {\n      this._positionSubscription.unsubscribe();\n    }\n  }\n/**\n * @param {?} event\n * @return {?}\n */\n_handleMousedown(event: MouseEvent): void {\n    if (!isFakeMousedownFromScreenReader(event)) {\n      this._openedByMouse = true;\n    }\n  }\n\nstatic decorators: DecoratorInvocation[] = [\n{ type: Directive, args: [{\n  selector: `[md-menu-trigger-for], [mat-menu-trigger-for],\n             [mdMenuTriggerFor], [matMenuTriggerFor]`,\n  host: {\n    'aria-haspopup': 'true',\n    '(mousedown)': '_handleMousedown($event)',\n    '(click)': 'toggleMenu()',\n  },\n  exportAs: 'mdMenuTrigger'\n}, ] },\n];\n/**\n * @nocollapse\n */\nstatic ctorParameters: () => ({type: any, decorators?: DecoratorInvocation[]}|null)[] = () => [\n{type: Overlay, },\n{type: ElementRef, },\n{type: ViewContainerRef, },\n{type: Renderer, },\n{type: Dir, decorators: [{ type: Optional }, ]},\n];\nstatic propDecorators: {[key: string]: DecoratorInvocation[]} = {\n'_deprecatedMdMenuTriggerFor': [{ type: Input, args: ['md-menu-trigger-for', ] },],\n'_deprecatedMatMenuTriggerFor': [{ type: Input, args: ['mat-menu-trigger-for', ] },],\n'_matMenuTriggerFor': [{ type: Input, args: ['matMenuTriggerFor', ] },],\n'menu': [{ type: Input, args: ['mdMenuTriggerFor', ] },],\n'onMenuOpen': [{ type: Output },],\n'onMenuClose': [{ type: Output },],\n};\n}\n\nfunction MdMenuTrigger_tsickle_Closure_declarations() {\n/** @type {?} */\nMdMenuTrigger.decorators;\n/**\n * @nocollapse\n * @type {?}\n */\nMdMenuTrigger.ctorParameters;\n/** @type {?} */\nMdMenuTrigger.propDecorators;\n/** @type {?} */\nMdMenuTrigger.prototype._portal;\n/** @type {?} */\nMdMenuTrigger.prototype._overlayRef;\n/** @type {?} */\nMdMenuTrigger.prototype._menuOpen;\n/** @type {?} */\nMdMenuTrigger.prototype._backdropSubscription;\n/** @type {?} */\nMdMenuTrigger.prototype._positionSubscription;\n/** @type {?} */\nMdMenuTrigger.prototype._openedByMouse;\n/**\n * References the menu instance that the trigger is associated with.\n * @type {?}\n */\nMdMenuTrigger.prototype.menu;\n/**\n * Event emitted when the associated menu is opened.\n * @type {?}\n */\nMdMenuTrigger.prototype.onMenuOpen;\n/**\n * Event emitted when the associated menu is closed.\n * @type {?}\n */\nMdMenuTrigger.prototype.onMenuClose;\n/** @type {?} */\nMdMenuTrigger.prototype._overlay;\n/** @type {?} */\nMdMenuTrigger.prototype._element;\n/** @type {?} */\nMdMenuTrigger.prototype._viewContainerRef;\n/** @type {?} */\nMdMenuTrigger.prototype._renderer;\n/** @type {?} */\nMdMenuTrigger.prototype._dir;\n}\n\n\ninterface DecoratorInvocation {\n  type: Function;\n  args?: any[];\n}\n"]}