{"version":3,"sources":["../../../../src/lib/grid-list/grid-list.ts"],"names":[],"mappings":"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","file":"grid-list.js","sourceRoot":"","sourcesContent":["import {\n  Component,\n  ViewEncapsulation,\n  AfterContentChecked,\n  OnInit,\n  Input,\n  ContentChildren,\n  QueryList,\n  Renderer,\n  ElementRef,\n  Optional,\n} from '@angular/core';\nimport {MdGridTile} from './grid-tile';\nimport {TileCoordinator} from './tile-coordinator';\nimport {TileStyler, FitTileStyler, RatioTileStyler, FixedTileStyler} from './tile-styler';\nimport {MdGridListColsError} from './grid-list-errors';\nimport {Dir} from '../core';\nimport {\n  coerceToString,\n  coerceToNumber,\n} from './grid-list-measure';\n\n\n// TODO(kara): Conditional (responsive) column count / row size.\n// TODO(kara): Re-layout on window resize / media change (debounced).\n// TODO(kara): gridTileHeader and gridTileFooter.\n\nconst /** @type {?} */ MD_FIT_MODE = 'fit';\nexport class MdGridList implements OnInit, AfterContentChecked {\nprivate _cols: number;\nprivate _rowHeight: string;\nprivate _gutter: string = '1px';\nprivate _tileStyler: TileStyler;\n\n  /** Query list of tiles that are being rendered. */\n   _tiles: QueryList<MdGridTile>;\n/**\n * @param {?} _renderer\n * @param {?} _element\n * @param {?} _dir\n */\nconstructor(\nprivate _renderer: Renderer,\nprivate _element: ElementRef,\nprivate _dir: Dir) {}\n/**\n * Amount of columns in the grid list.\n * @return {?}\n */\nget cols() { return this._cols; }\n/**\n * @param {?} value\n * @return {?}\n */\nset cols(value: any) { this._cols = coerceToNumber(value); }\n/**\n * Size of the grid list's gutter in pixels.\n * @return {?}\n */\nget gutterSize() { return this._gutter; }\n/**\n * @param {?} value\n * @return {?}\n */\nset gutterSize(value: any) { this._gutter = coerceToString(value); }\n/**\n * Set internal representation of row height from the user-provided value.\n * @param {?} value\n * @return {?}\n */\nset rowHeight(value: string | number) {\n    this._rowHeight = coerceToString(value);\n    this._setTileStyler();\n  }\n/**\n * @return {?}\n */\nngOnInit() {\n    this._checkCols();\n    this._checkRowHeight();\n  }\n/**\n * The layout calculation is fairly cheap if nothing changes, so there's little cost\n * to run it frequently.\n * @return {?}\n */\nngAfterContentChecked() {\n    this._layoutTiles();\n  }\n/**\n * Throw a friendly error if cols property is missing\n * @return {?}\n */\nprivate _checkCols() {\n    if (!this.cols) {\n      throw new MdGridListColsError();\n    }\n  }\n/**\n * Default to equal width:height if rowHeight property is missing\n * @return {?}\n */\nprivate _checkRowHeight(): void {\n    if (!this._rowHeight) {\n      this._tileStyler = new RatioTileStyler('1:1');\n    }\n  }\n/**\n * Creates correct Tile Styler subtype based on rowHeight passed in by user\n * @return {?}\n */\nprivate _setTileStyler(): void {\n    if (this._rowHeight === MD_FIT_MODE) {\n      this._tileStyler = new FitTileStyler();\n    } else if (this._rowHeight && this._rowHeight.indexOf(':') > -1) {\n      this._tileStyler = new RatioTileStyler(this._rowHeight);\n    } else {\n      this._tileStyler = new FixedTileStyler(this._rowHeight);\n    }\n  }\n/**\n * Computes and applies the size and position for all children grid tiles.\n * @return {?}\n */\nprivate _layoutTiles(): void {\n    let /** @type {?} */ tracker = new TileCoordinator(this.cols, this._tiles);\n    let /** @type {?} */ direction = this._dir ? this._dir.value : 'ltr';\n    this._tileStyler.init(this.gutterSize, tracker, this.cols, direction);\n\n    this._tiles.forEach((tile, index) => {\n      let /** @type {?} */ pos = tracker.positions[index];\n      this._tileStyler.setStyle(tile, pos.row, pos.col);\n    });\n\n    this._setListStyle(this._tileStyler.getComputedHeight());\n  }\n/**\n * Sets style on the main grid-list element, given the style name and value.\n * @param {?} style\n * @return {?}\n */\n_setListStyle(style: [string, string]): void {\n    if (style) {\n      this._renderer.setElementStyle(this._element.nativeElement, style[0], style[1]);\n    }\n  }\nstatic decorators: DecoratorInvocation[] = [\n{ type: Component, args: [{\n  moduleId: module.id,\n  selector: 'md-grid-list, mat-grid-list',\n  templateUrl: 'grid-list.html',\n  styleUrls: ['grid-list.css'],\n  host: {\n    'role': 'list',\n    '[class.mat-grid-list]': 'true',\n  },\n  encapsulation: ViewEncapsulation.None,\n}, ] },\n];\n/**\n * @nocollapse\n */\nstatic ctorParameters: () => ({type: any, decorators?: DecoratorInvocation[]}|null)[] = () => [\n{type: Renderer, },\n{type: ElementRef, },\n{type: Dir, decorators: [{ type: Optional }, ]},\n];\nstatic propDecorators: {[key: string]: DecoratorInvocation[]} = {\n'_tiles': [{ type: ContentChildren, args: [MdGridTile, ] },],\n'cols': [{ type: Input },],\n'gutterSize': [{ type: Input },],\n'rowHeight': [{ type: Input },],\n};\n}\n\nfunction MdGridList_tsickle_Closure_declarations() {\n/** @type {?} */\nMdGridList.decorators;\n/**\n * @nocollapse\n * @type {?}\n */\nMdGridList.ctorParameters;\n/** @type {?} */\nMdGridList.propDecorators;\n/**\n * Number of columns being rendered.\n * @type {?}\n */\nMdGridList.prototype._cols;\n/**\n * Row height value passed in by user. This can be one of three types:\n * - Number value (ex: \"100px\"):  sets a fixed row height to that value\n * - Ratio value (ex: \"4:3\"): sets the row height based on width:height ratio\n * - \"Fit\" mode (ex: \"fit\"): sets the row height to total height divided by number of rows\n * @type {?}\n */\nMdGridList.prototype._rowHeight;\n/**\n * The amount of space between tiles. This will be something like '5px' or '2em'.\n * @type {?}\n */\nMdGridList.prototype._gutter;\n/**\n * Sets position and size styles for a tile\n * @type {?}\n */\nMdGridList.prototype._tileStyler;\n/**\n * Query list of tiles that are being rendered.\n * @type {?}\n */\nMdGridList.prototype._tiles;\n/** @type {?} */\nMdGridList.prototype._renderer;\n/** @type {?} */\nMdGridList.prototype._element;\n/** @type {?} */\nMdGridList.prototype._dir;\n}\n\n\ninterface DecoratorInvocation {\n  type: Function;\n  args?: any[];\n}\n"]}